---
title: jvm笔记-03-虚拟机性能监控与故障处理工具
date: 2018-02-06 17:32:53
tags: jvm笔记
---

概览：  jps、jhat、jinfo、jmap、jhat、jstack

# jps: 虚拟机进程状况工具

常用来获取虚拟机进程ID（LVMID）。

| 选项 | 作用                |
| ---- | ------------------- |
| -q   | 只输出LVMID         |
| -m   | 输出main()的参数    |
| -l   | 输出类全名或jar路径 |
| -l   | 输出jvm参数         |

# jstat: 虚拟机统计信息监视工具

显示虚拟机进程中的类装载、内存、垃圾收集、JIT编译等运行数据。

用法:

```shell
jstat [ option vmid [ interval [s|ms] [count]]]
```

举例：

```shell
jstat -gc 25766 250 10
```

{% asset_img jstat.png %}

S表示两个 `Survivor`区，老年代为O，元空间为M。

YGC表示`Minor GC`次数，YGCT为年轻代的垃圾回收总耗时。

# jinfo: Java配置信息工具

用来查看和调整虚拟机各项参数。

{% asset_img jinfo.png %}

可以使用 `jinfo -flag` 命令查看特点参数

```shell
jinfo -flag CMSInitiatingOccupancyFraction 21504
```

# jmap: Java 内存映射工具
